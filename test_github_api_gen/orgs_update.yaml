name: Update an organization
description: |-
  > [!WARNING]
  > **Closing down notice:** GitHub will replace and discontinue `members_allowed_repository_creation_type` in favor of more granular permissions. The new input parameters are `members_can_create_public_repositories`, `members_can_create_private_repositories` for all organizations and `members_can_create_internal_repositories` for organizations associated with an enterprise account using GitHub Enterprise Cloud or GitHub Enterprise Server 2.20+. For more information, see the [blog post](https://developer.github.com/changes/2019-12-03-internal-visibility-changes).

  > [!WARNING]
  > **Closing down notice:** Code security product enablement for new repositories through the organization API is closing down. Please use [code security configurations](https://docs.github.com/rest/code-security/configurations#set-a-code-security-configuration-as-a-default-for-an-organization) to set defaults instead. For more information on setting a default security configuration, see the [changelog](https://github.blog/changelog/2024-07-09-sunsetting-security-settings-defaults-parameters-in-the-organizations-rest-api/).

  Updates the organization's profile and member privileges.

  The authenticated user must be an organization owner to use this endpoint.

  OAuth app tokens and personal access tokens (classic) need the `admin:org` or `repo` scope to use this endpoint.
env: null
vars: null
setup: null
tests:
- name: Update an organization
  description: |-
    > [!WARNING]
    > **Closing down notice:** GitHub will replace and discontinue `members_allowed_repository_creation_type` in favor of more granular permissions. The new input parameters are `members_can_create_public_repositories`, `members_can_create_private_repositories` for all organizations and `members_can_create_internal_repositories` for organizations associated with an enterprise account using GitHub Enterprise Cloud or GitHub Enterprise Server 2.20+. For more information, see the [blog post](https://developer.github.com/changes/2019-12-03-internal-visibility-changes).

    > [!WARNING]
    > **Closing down notice:** Code security product enablement for new repositories through the organization API is closing down. Please use [code security configurations](https://docs.github.com/rest/code-security/configurations#set-a-code-security-configuration-as-a-default-for-an-organization) to set defaults instead. For more information on setting a default security configuration, see the [changelog](https://github.blog/changelog/2024-07-09-sunsetting-security-settings-defaults-parameters-in-the-organizations-rest-api/).

    Updates the organization's profile and member privileges.

    The authenticated user must be an organization owner to use this endpoint.

    OAuth app tokens and personal access tokens (classic) need the `admin:org` or `repo` scope to use this endpoint.
  request:
    method: PATCH
    url: https://api.github.com/orgs/{org}
    headers: null
    params: null
    body: |-
      {
        "advanced_security_enabled_for_new_repositories": true,
        "billing_email": "example",
        "blog": "example",
        "company": "example",
        "default_repository_permission": "example",
        "dependabot_alerts_enabled_for_new_repositories": true,
        "dependabot_security_updates_enabled_for_new_repositories": true,
        "dependency_graph_enabled_for_new_repositories": true,
        "deploy_keys_enabled_for_repositories": true,
        "description": "example",
        "email": "example",
        "has_organization_projects": true,
        "has_repository_projects": true,
        "location": "example",
        "members_allowed_repository_creation_type": "example",
        "members_can_create_internal_repositories": true,
        "members_can_create_pages": true,
        "members_can_create_private_pages": true,
        "members_can_create_private_repositories": true,
        "members_can_create_public_pages": true,
        "members_can_create_public_repositories": true,
        "members_can_create_repositories": true,
        "members_can_fork_private_repositories": true,
        "name": "example",
        "secret_scanning_enabled_for_new_repositories": true,
        "secret_scanning_push_protection_custom_link": "example",
        "secret_scanning_push_protection_custom_link_enabled": true,
        "secret_scanning_push_protection_enabled_for_new_repositories": true,
        "twitter_username": "example",
        "web_commit_signoff_required": true
      }
  expect:
    status: 200
    schema: null
    jsonpath: null
    headers: null
dataset: null
teardown: null
