name: Create a check suite
description: |-
  Creates a check suite manually. By default, check suites are automatically created when you create a [check run](https://docs.github.com/rest/checks/runs). You only need to use this endpoint for manually creating check suites when you've disabled automatic creation using "[Update repository preferences for check suites](https://docs.github.com/rest/checks/suites#update-repository-preferences-for-check-suites)".

  > [!NOTE]
  > The Checks API only looks for pushes in the repository where the check suite or check run were created. Pushes to a branch in a forked repository are not detected and return an empty `pull_requests` array and a `null` value for `head_branch`.

  OAuth apps and personal access tokens (classic) cannot use this endpoint.
env: null
vars: null
setup: null
tests:
- name: Create a check suite
  description: |-
    Creates a check suite manually. By default, check suites are automatically created when you create a [check run](https://docs.github.com/rest/checks/runs). You only need to use this endpoint for manually creating check suites when you've disabled automatic creation using "[Update repository preferences for check suites](https://docs.github.com/rest/checks/suites#update-repository-preferences-for-check-suites)".

    > [!NOTE]
    > The Checks API only looks for pushes in the repository where the check suite or check run were created. Pushes to a branch in a forked repository are not detected and return an empty `pull_requests` array and a `null` value for `head_branch`.

    OAuth apps and personal access tokens (classic) cannot use this endpoint.
  request:
    method: POST
    url: https://api.github.com/repos/{owner}/{repo}/check-suites
    headers: null
    params: null
    body: |-
      {
        "head_sha": "example"
      }
  expect:
    status: 200
    schema: null
    jsonpath: null
    headers: null
dataset: null
teardown: null
